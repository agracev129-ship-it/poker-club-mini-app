<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Poker Club - Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-spade"></i>
                    <span>Poker Club</span>
                </div>
                <div class="user-profile clickable" id="userProfile" onclick="switchTab('profile')">
                    <div class="user-avatar" id="userAvatar">üë§</div>
                    <div class="user-info">
                        <div class="user-name" id="userName">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="user-rank" id="userRank">–ù–æ–≤–∏—á–æ–∫</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Login Modal -->
        <div class="modal" id="loginModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –≤—Ö–æ–¥–∞</h2>
                    <button class="close-btn" onclick="closeModal('loginModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <button class="login-btn user-mode" onclick="loginAsUser()">
                        <i class="fas fa-user"></i>
                        <span>–í–æ–π—Ç–∏ –∫–∞–∫ –∏–≥—Ä–æ–∫</span>
                    </button>
                    <button class="login-btn admin-mode" id="adminLoginBtn" onclick="loginAsAdmin()" style="display: none;">
                        <i class="fas fa-crown"></i>
                        <span>–í–æ–π—Ç–∏ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Registration Modal -->
        <div class="modal" id="registrationModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Poker Club</h2>
                    <button class="close-btn" onclick="closeModal('registrationModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="gameNickname">–ò–≥—Ä–æ–≤–æ–π –Ω–∏–∫–Ω–µ–π–º:</label>
                        <input type="text" id="gameNickname" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫–Ω–µ–π–º" maxlength="20">
                    </div>
                    <div class="form-group">
                        <label for="preferredGame">–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π —Ç–∏–ø –∏–≥—Ä—ã:</label>
                        <select id="preferredGame">
                            <option value="texas">–¢–µ—Ö–∞—Å—Å–∫–∏–π –•–æ–ª–¥–µ–º</option>
                            <option value="omaha">–û–º–∞—Ö–∞</option>
                            <option value="stud">–°—Ç—É–¥</option>
                            <option value="mixed">–°–º–µ—à–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã</option>
                        </select>
                    </div>
                    <button class="register-btn" onclick="registerUser()">
                        <i class="fas fa-user-plus"></i>
                        <span>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="home">
                <i class="fas fa-home"></i>
                <span>–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-tab" data-tab="tournaments">
                <i class="fas fa-trophy"></i>
                <span>–¢—É—Ä–Ω–∏—Ä—ã</span>
            </button>
            <button class="nav-tab" data-tab="rating">
                <i class="fas fa-chart-line"></i>
                <span>–†–µ–π—Ç–∏–Ω–≥</span>
            </button>
            <button class="nav-tab" data-tab="profile">
                <i class="fas fa-user"></i>
                <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Tab -->
            <div class="tab-content active" id="home">
                <div class="welcome-card">
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Poker Club! üÉè</h2>
                    <p>–¢–≤–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –∏–≥—Ä—ã –≤ –ø–æ–∫–µ—Ä –±–µ–∑ –¥–µ–Ω–µ–≥</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalWins">0</div>
                            <div class="stat-label">–ü–æ–±–µ–¥</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalGames">0</div>
                            <div class="stat-label">–ò–≥—Ä</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-info">
                            <div class="stat-value" id="currentRank">1</div>
                            <div class="stat-label">–†–∞–Ω–≥</div>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                    <div class="action-buttons">
                        <button class="action-btn" id="joinTournament">
                            <i class="fas fa-play"></i>
                            <span>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ —Ç—É—Ä–Ω–∏—Ä—É</span>
                        </button>
                        <button class="action-btn" id="viewRating">
                            <i class="fas fa-chart-bar"></i>
                            <span>–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–π—Ç–∏–Ω–≥</span>
                        </button>
                        <button class="action-btn" id="viewAchievements">
                            <i class="fas fa-medal"></i>
                            <span>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
                        </button>
                    </div>
                </div>

                <div class="recent-activity">
                    <h3>–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                    <div class="activity-list" id="activityList">
                        <div class="activity-item">
                            <div class="activity-icon">üéØ</div>
                            <div class="activity-text">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–ª—É–±!</div>
                            <div class="activity-time">–°–µ–π—á–∞—Å</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tournaments Tab -->
            <div class="tab-content" id="tournaments">
                <div class="section-header">
                    <h2>–¢—É—Ä–Ω–∏—Ä—ã</h2>
                    <div class="header-actions">
                        <button class="btn-refresh" id="refreshTournaments">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="btn-add" id="addTournamentBtn" onclick="showAddTournamentModal()" style="display: none;">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>

                <div class="tournament-filters">
                    <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
                    <button class="filter-btn" data-filter="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
                    <button class="filter-btn" data-filter="upcoming">–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ</button>
                    <button class="filter-btn" data-filter="finished">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</button>
                </div>

                <div class="tournaments-list" id="tournamentsList">
                    <!-- –¢—É—Ä–Ω–∏—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <!-- Rating Tab -->
            <div class="tab-content" id="rating">
                <div class="section-header">
                    <h2>–†–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤</h2>
                    <div class="rating-period">
                        <button class="period-btn active" data-period="month" onclick="switchRatingPeriod('month')">–ú–µ—Å—è—Ü</button>
                        <button class="period-btn" data-period="all" onclick="switchRatingPeriod('all')">–í—Å–µ –≤—Ä–µ–º—è</button>
                    </div>
                </div>

                <div class="rating-list" id="ratingList">
                    <div class="rating-item">
                        <div class="rank">1</div>
                        <div class="player-info">
                            <div class="player-name">–ê–ª–µ–∫—Å–µ–π –ü.</div>
                            <div class="player-stats">2450 –æ—á–∫–æ–≤</div>
                        </div>
                        <div class="player-avatar">üëë</div>
                    </div>
                </div>
            </div>

            <!-- Profile Tab -->
            <div class="tab-content" id="profile">
                <div class="profile-header">
                    <div class="profile-avatar" id="profileAvatar" onclick="showAvatarModal()">üë§</div>
                    <div class="profile-info">
                        <h2 id="profileName">–ò–≥—Ä–æ–∫</h2>
                        <p id="profileRank">–†–∞–Ω–≥: –ù–æ–≤–∏—á–æ–∫</p>
                        <p id="profileNickname" style="display: none;">–ù–∏–∫: <span id="userNickname">-</span></p>
                        <button class="change-avatar-btn" onclick="showAvatarModal()">
                            <i class="fas fa-camera"></i>
                            <span>–ò–∑–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä–∫—É</span>
                        </button>
                    </div>
                </div>

                <div class="profile-stats">
                    <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <div class="stats-list">
                        <div class="stat-item">
                            <span class="stat-label">–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ:</span>
                            <span class="stat-value" id="profileGames">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">–ü–æ–±–µ–¥:</span>
                            <span class="stat-value" id="profileWins">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">–ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–±–µ–¥:</span>
                            <span class="stat-value" id="profileWinRate">0%</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">–û—á–∫–æ–≤:</span>
                            <span class="stat-value" id="profilePoints">0</span>
                        </div>
                    </div>
                </div>

                <div class="achievements">
                    <h3>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
                    <div class="achievements-list" id="achievementsList">
                        <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <div class="profile-actions">
                    <button class="action-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>–í—ã–π—Ç–∏</span>
                    </button>
                </div>
            </div>

            <!-- Admin Panel Tab -->
            <div class="tab-content" id="admin">
                <div class="admin-header">
                    <h2><i class="fas fa-crown"></i> –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
                    <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—É–±–æ–º</p>
                </div>

                <div class="admin-stats">
                    <div class="admin-stat-card clickable" onclick="showAllUsers()">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalUsers">0</div>
                            <div class="stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                        </div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalTournaments">0</div>
                            <div class="stat-label">–¢—É—Ä–Ω–∏—Ä–æ–≤</div>
                        </div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="stat-icon">üéÆ</div>
                        <div class="stat-info">
                            <div class="stat-value" id="activeGames">0</div>
                            <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä</div>
                        </div>
                    </div>
                </div>

                <div class="admin-actions">
                    <button class="admin-btn" onclick="showAddTournamentModal()">
                        <i class="fas fa-plus"></i>
                        <span>–°–æ–∑–¥–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä</span>
                    </button>
                    <button class="admin-btn" onclick="showUsersList()">
                        <i class="fas fa-users"></i>
                        <span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</span>
                    </button>
                    <button class="admin-btn" onclick="showTournamentsManagement()">
                        <i class="fas fa-trophy"></i>
                        <span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞–º–∏</span>
                    </button>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <button class="nav-item active" data-tab="home">
                <i class="fas fa-home"></i>
                <span>–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-item" data-tab="tournaments">
                <i class="fas fa-trophy"></i>
                <span>–¢—É—Ä–Ω–∏—Ä—ã</span>
            </button>
            <button class="nav-item" data-tab="rating">
                <i class="fas fa-chart-line"></i>
                <span>–†–µ–π—Ç–∏–Ω–≥</span>
            </button>
            <button class="nav-item" data-tab="profile">
                <i class="fas fa-user"></i>
                <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </div>

        <!-- Add Tournament Modal -->
        <div class="modal" id="addTournamentModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç—É—Ä–Ω–∏—Ä</h2>
                    <button class="close-btn" onclick="closeModal('addTournamentModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="tournamentName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞:</label>
                        <input type="text" id="tournamentName" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞">
                    </div>
                    <div class="form-group">
                        <label for="tournamentDate">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è:</label>
                        <input type="datetime-local" id="tournamentDate">
                    </div>
                    <div class="form-group">
                        <label for="tournamentDuration">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—á–∞—Å—ã):</label>
                        <input type="number" id="tournamentDuration" min="1" max="12" value="2">
                    </div>
                    <div class="form-group">
                        <label for="maxPlayers">–ú–∞–∫—Å–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤:</label>
                        <input type="number" id="maxPlayers" min="2" max="100" value="20">
                    </div>
                    <div class="form-group">
                        <label for="tournamentPrize">–ü—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥ (–æ—á–∫–∏):</label>
                        <input type="number" id="tournamentPrize" min="10" value="100">
                    </div>
                    <div class="form-group">
                        <label for="tournamentType">–¢–∏–ø –∏–≥—Ä—ã:</label>
                        <select id="tournamentType">
                            <option value="texas">–¢–µ—Ö–∞—Å—Å–∫–∏–π –•–æ–ª–¥–µ–º</option>
                            <option value="omaha">–û–º–∞—Ö–∞</option>
                            <option value="stud">–°—Ç—É–¥</option>
                            <option value="mixed">–°–º–µ—à–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã</option>
                        </select>
                    </div>
                    <button class="create-btn" onclick="createTournament()">
                        <i class="fas fa-plus"></i>
                        <span>–°–æ–∑–¥–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Users List Modal -->
        <div class="modal" id="usersListModal">
            <div class="modal-content large">
                <div class="modal-header">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
                    <button class="close-btn" onclick="closeModal('usersListModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="users-list" id="usersList">
                        <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Tournament Participants Modal -->
        <div class="modal" id="participantsModal">
            <div class="modal-content large">
                <div class="modal-header">
                    <h2>–£—á–∞—Å—Ç–Ω–∏–∫–∏ —Ç—É—Ä–Ω–∏—Ä–∞</h2>
                    <button class="close-btn" onclick="closeModal('participantsModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="participants-list" id="participantsList">
                        <!-- –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
        </div>

        <!-- User Profile Modal -->
        <div class="modal" id="userProfileModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>–ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞</h2>
                    <button class="close-btn" onclick="closeModal('userProfileModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="user-profile-details" id="userProfileDetails">
                        <!-- –î–µ—Ç–∞–ª–∏ –ø—Ä–æ—Ñ–∏–ª—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Avatar Selection Modal -->
        <div class="modal" id="avatarModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>–í—ã–±–µ—Ä–∏—Ç–µ –∞–≤–∞—Ç–∞—Ä–∫—É</h2>
                    <button class="close-btn" onclick="closeModal('avatarModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="avatar-upload">
                        <div class="avatar-preview" id="avatarPreview">üë§</div>
                        <button class="avatar-upload-btn" onclick="uploadAvatar()">
                            <i class="fas fa-camera"></i>
                            <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</span>
                        </button>
                    </div>
                    <h3>–ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —ç–º–æ–¥–∑–∏:</h3>
                    <div class="avatar-options" id="avatarOptions">
                        <div class="avatar-option" onclick="selectEmojiAvatar('üë§')">üë§</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('üé≠')">üé≠</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('üé™')">üé™</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('üé®')">üé®</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('üéØ')">üéØ</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('üé≤')">üé≤</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('üÉè')">üÉè</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('üé¥')">üé¥</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('üëë')">üëë</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('üèÜ')">üèÜ</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('ü•á')">ü•á</div>
                        <div class="avatar-option" onclick="selectEmojiAvatar('‚≠ê')">‚≠ê</div>
                    </div>
                    <button class="create-btn" onclick="saveAvatar()">
                        <i class="fas fa-save"></i>
                        <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä–∫—É</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
